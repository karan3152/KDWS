<div class="form-view">
    <div class="form-header text-center mb-4">
        <h3>FORM 1 (NOMINATION)</h3>
        <p class="text-muted">The Payment of Gratuity Act, 1972</p>
        <p>Nomination for Gratuity Payment</p>
    </div>

    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-light">
                    <h5 class="mb-0">1. Employee Information</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Name:</label>
                                <p>{{ form.employee_name.data or employee.get_full_name() }}</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Gender:</label>
                                <p>{{ form.gender.data or '--' }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Religion:</label>
                                <p>{{ form.religion.data or '--' }}</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Marital Status:</label>
                                <p>{{ form.marital_status.data or '--' }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Department:</label>
                                <p>{{ form.department.data or employee.department or '--' }}</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Designation:</label>
                                <p>{{ form.designation.data or employee.designation or '--' }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Date of Appointment:</label>
                                <p>{{ form.date_of_appointment.data.strftime('%d-%m-%Y') if form.date_of_appointment.data else employee.date_of_joining.strftime('%d-%m-%Y') if employee.date_of_joining else '--' }}</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Permanent Address:</label>
                                <p>{{ form.permanent_address.data or '--' }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-light">
                    <h5 class="mb-0">2. Nomination Details</h5>
                </div>
                <div class="card-body">
                    <p class="mb-3">I hereby nominate the person(s) mentioned below to receive the gratuity payable after my death as also the gratuity standing to my credit in the event of my death before becoming eligible for payment of gratuity during the service.</p>
                    
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead class="table-light">
                                <tr>
                                    <th>Name of Nominee(s)</th>
                                    <th>Address</th>
                                    <th>Relationship with Employee</th>
                                    <th>Age</th>
                                    <th>Proportion of Gratuity (%)</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% if form.nominees.data %}
                                    {% for nominee in form.nominees.data %}
                                    <tr>
                                        <td>{{ nominee.name }}</td>
                                        <td>{{ nominee.address or '--' }}</td>
                                        <td>{{ nominee.relationship }}</td>
                                        <td>{{ nominee.age }}</td>
                                        <td>{{ nominee.proportion }}%</td>
                                    </tr>
                                    {% endfor %}
                                {% else %}
                                    <tr>
                                        <td colspan="5" class="text-center">No nominees added</td>
                                    </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-light">
                    <h5 class="mb-0">3. Declaration</h5>
                </div>
                <div class="card-body">
                    <p>This nomination supersedes the nomination made by me earlier on (if any).</p>
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Date:</label>
                                <p>{{ form.declaration_date.data.strftime('%d-%m-%Y') if form.declaration_date.data else document.uploaded_at.strftime('%d-%m-%Y') if document else '--' }}</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Place:</label>
                                <p>{{ form.declaration_place.data or '--' }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 text-end">
                            <p class="fw-bold mb-0">{{ form.employee_name.data or employee.get_full_name() }}</p>
                            <p class="text-muted">Signature of the Employee</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-light">
                    <h5 class="mb-0">4. Witness</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Name of Witness 1:</label>
                                <p>{{ form.witness1_name.data or '--' }}</p>
                            </div>
                            <div class="mb-3">
                                <label class="form-label fw-bold">Address:</label>
                                <p>{{ form.witness1_address.data or '--' }}</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Name of Witness 2:</label>
                                <p>{{ form.witness2_name.data or '--' }}</p>
                            </div>
                            <div class="mb-3">
                                <label class="form-label fw-bold">Address:</label>
                                <p>{{ form.witness2_address.data or '--' }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
